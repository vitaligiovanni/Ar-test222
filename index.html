<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Photo to Video</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/1.4.0/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ar.js/2.2.2/aframe-ar.min.js"></script>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #000;
            color: white;
        }

        /* –°–∫—Ä—ã—Ç–∏–µ AR.js UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        .arjs-loader {
            height: 100%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
        }

        .arjs-loader div {
            text-align: center;
            font-size: 1.25em;
            color: white;
            margin: 10px 0;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #333;
            border-top: 4px solid #00ff00;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* –°–∫—Ä—ã—Ç–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö AR.js —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        .a-enter-vr, 
        .a-enter-ar,
        .a-orientation-modal {
            display: none !important;
        }

        #arjsDebugUIContainer {
            display: none !important;
        }

        /* –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ */
        #instructions {
            position: fixed;
            top: 10px;
            left: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 1000;
            text-align: center;
            font-size: 14px;
            border: 2px solid #00ff00;
        }

        /* –í–∏–¥–µ–æ –æ–≤–µ—Ä–ª–µ–π */
        #videoOverlay {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 90%;
            max-width: 600px;
            z-index: 2000;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.8);
            opacity: 0;
            visibility: hidden;
            transition: all 0.6s ease;
            background: rgba(0, 0, 0, 0.95);
            padding: 20px;
            border: 2px solid #00ff00;
        }

        #videoOverlay.show {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        #overlayVideo {
            width: 100%;
            height: auto;
            border-radius: 15px;
            background: #000;
        }

        #closeBtn {
            position: absolute;
            top: -15px;
            right: -15px;
            width: 40px;
            height: 40px;
            background: #ff4444;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            z-index: 2100;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        #closeBtn:hover {
            background: #ff6666;
            transform: scale(1.1);
        }

        /* Fallback –∫–Ω–æ–ø–∫–∞ */
        .fallback-button {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #00ff00, #00cc00);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            z-index: 1500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 255, 0, 0.3);
        }

        .fallback-button:hover {
            transform: translateX(-50%) scale(1.05);
        }

        /* –°—Ç–∞—Ç—É—Å –º–∞—Ä–∫–µ—Ä–∞ */
        #markerStatus {
            position: fixed;
            top: 80px;
            left: 10px;
            right: 10px;
            background: rgba(255, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            z-index: 1001;
            text-align: center;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        #markerStatus.found {
            background: rgba(0, 255, 0, 0.8);
        }

        /* –ü—Ä–µ–≤—å—é –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è */
        #originalPreview {
            position: fixed;
            bottom: 80px;
            right: 10px;
            width: 120px;
            height: auto;
            border: 2px solid #00ff00;
            border-radius: 8px;
            z-index: 1001;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        #originalPreview:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        /* –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è */
        @media (max-width: 768px) {
            #instructions {
                font-size: 12px;
                padding: 10px;
            }
            
            #videoOverlay {
                width: 95%;
                padding: 10px;
            }

            #originalPreview {
                width: 80px;
                bottom: 70px;
                right: 5px;
            }
        }
    </style>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ AR -->
    <div class="arjs-loader">
        <div class="spinner"></div>
        <div>–ó–∞–≥—Ä—É–∑–∫–∞ AR —Å–∏—Å—Ç–µ–º—ã...</div>
        <div>–†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ</div>
        <div style="font-size: 0.9em; margin-top: 20px;">
            –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –¥–µ–≤–æ—á–∫–∏ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        </div>
    </div>

    <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ -->
    <div id="instructions">
        üì∑ –ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ –§–û–¢–û–ì–†–ê–§–ò–Æ –¥–µ–≤–æ—á–∫–∏ (—Å–º. –ø—Ä–∏–º–µ—Ä —Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É)
        <br>–î–µ—Ä–∂–∏—Ç–µ –∫–∞–º–µ—Ä—É —Å—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 20-30 —Å–º
    </div>

    <!-- –°—Ç–∞—Ç—É—Å –º–∞—Ä–∫–µ—Ä–∞ -->
    <div id="markerStatus">
        üîç –ò—â—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –¥–µ–≤–æ—á–∫–∏...
    </div>

    <!-- –ü—Ä–µ–≤—å—é –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
    <img id="originalPreview" src="./half_body_crop.jpg" alt="–≠—Ç–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –Ω—É–∂–Ω–∞ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è" title="–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ —Ç–∞–∫—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é">

    <!-- Fallback –∫–Ω–æ–ø–∫–∞ -->
    <button class="fallback-button" id="fallbackBtn">
        ‚ñ∂Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –≤–∏–¥–µ–æ
    </button>

    <!-- –í–∏–¥–µ–æ –æ–≤–µ—Ä–ª–µ–π -->
    <div id="videoOverlay">
        <button id="closeBtn">&times;</button>
        <video id="overlayVideo" controls playsinline preload="metadata">
            <source src="./BoudoirPhotoBox.mp4" type="video/mp4">
            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
        </video>
    </div>

    <!-- AR Scene -->
    <a-scene
        vr-mode-ui="enabled: false;"
        renderer="logarithmicDepthBuffer: true; colorManagement: true; sortObjects: true;"
        arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3; patternRatio: 0.8; maxDetectionRate: 30; canvasWidth: 640; canvasHeight: 480;"
        embedded
        gesture-detector
        id="scene">
        
        <!-- Assets -->
        <a-assets>
            <video id="video-asset" 
                   src="./BoudoirPhotoBox.mp4" 
                   preload="auto" 
                   crossorigin="anonymous" 
                   playsinline 
                   webkit-playsinline
                   muted
                   loop>
            </video>
            <!-- –î–æ–±–∞–≤–ª—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
            <img id="original-image" src="./half_body_crop.jpg" crossorigin="anonymous">
        </a-assets>

        <!-- AR –ú–∞—Ä–∫–µ—Ä (NFT - Natural Feature Tracking) -->
        <a-nft
            type="nft"
            url="./targets (1)"
            smooth="true"
            smoothCount="10"
            smoothTolerance=".01"
            smoothThreshold="5"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="nft-marker"
            gesture-handler>
            
            <!-- 3D –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞–¥ –º–∞—Ä–∫–µ—Ä–æ–º -->
            <a-plane 
                id="video-plane"
                src="#video-asset"
                width="2" 
                height="1.5"
                position="0 0 0"
                rotation="0 0 0"
                class="clickable"
                gesture-handler
                material="transparent: true; alphaTest: 0.5; shader: flat"
                animation__found="property: scale; to: 1.2 1.2 1.2; startEvents: markerFound; dur: 500; easing: easeOutQuad"
                animation__lost="property: scale; to: 1 1 1; startEvents: markerLost; dur: 500">
            </a-plane>

            <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
            <a-text 
                value="–ù–ê–ñ–ú–ò–¢–ï –î–õ–Ø –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–û–ì–û –í–ò–î–ï–û" 
                position="0 -1 0" 
                align="center" 
                color="#00ff00"
                scale="0.8 0.8 0.8"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 10000">
            </a-text>

            <!-- –°–≤–µ—Ç—è—â–∞—è—Å—è —Ä–∞–º–∫–∞ -->
            <a-ring 
                position="0 0 0.01" 
                radius-inner="0.8" 
                radius-outer="1"
                color="#00ff00"
                opacity="0.6"
                material="transparent: true"
                animation="property: rotation; to: 0 0 360; loop: true; dur: 5000">
            </a-ring>

        </a-nft>

        <!-- –ö–∞–º–µ—Ä–∞ -->
        <a-entity camera look-controls-enabled="false" arjs-look-controls="smoothingFactor: 0.1"></a-entity>
    </a-scene>

    <script>
        class ARImageTracker {
            constructor() {
                this.scene = document.getElementById('scene');
                this.nftMarker = null;
                this.videoPlane = null;
                this.videoAsset = document.getElementById('video-asset');
                this.overlayVideo = document.getElementById('overlayVideo');
                this.videoOverlay = document.getElementById('videoOverlay');
                this.closeBtn = document.getElementById('closeBtn');
                this.fallbackBtn = document.getElementById('fallbackBtn');
                this.markerStatus = document.getElementById('markerStatus');
                this.originalPreview = document.getElementById('originalPreview');
                
                this.markerFound = false;
                this.isFullscreenVideo = false;
                
                this.init();
            }

            init() {
                // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ AR.js
                this.scene.addEventListener('loaded', () => {
                    console.log('AR —Å—Ü–µ–Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
                    this.nftMarker = document.getElementById('nft-marker');
                    this.videoPlane = document.getElementById('video-plane');
                    this.setupEventListeners();
                });

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                this.originalPreview.addEventListener('load', () => {
                    console.log('‚úÖ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ half_body_crop.jpg –∑–∞–≥—Ä—É–∂–µ–Ω–æ');
                });

                this.originalPreview.addEventListener('error', () => {
                    console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ half_body_crop.jpg');
                    this.originalPreview.style.display = 'none';
                    alert('‚ö†Ô∏è –§–∞–π–ª half_body_crop.jpg –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                });

                // –£–¥–∞–ª—è–µ–º –∑–∞–≥—Ä—É–∑—á–∏–∫ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è
                setTimeout(() => {
                    const loader = document.querySelector('.arjs-loader');
                    if (loader) {
                        loader.style.opacity = '0';
                        setTimeout(() => {
                            loader.style.display = 'none';
                        }, 1000);
                    }
                }, 3000);
            }

            setupEventListeners() {
                // –°–æ–±—ã—Ç–∏—è –º–∞—Ä–∫–µ—Ä–∞
                if (this.nftMarker) {
                    this.nftMarker.addEventListener('markerFound', () => {
                        console.log('‚úÖ –ú–∞—Ä–∫–µ—Ä –Ω–∞–π–¥–µ–Ω!');
                        this.onMarkerFound();
                    });

                    this.nftMarker.addEventListener('markerLost', () => {
                        console.log('‚ùå –ú–∞—Ä–∫–µ—Ä –ø–æ—Ç–µ—Ä—è–Ω');
                        this.onMarkerLost();
                    });
                }

                // –ö–ª–∏–∫ –ø–æ AR –≤–∏–¥–µ–æ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
                if (this.videoPlane) {
                    this.videoPlane.addEventListener('click', () => {
                        console.log('–ö–ª–∏–∫ –ø–æ AR –≤–∏–¥–µ–æ - –ø–µ—Ä–µ—Ö–æ–¥ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º');
                        this.showFullscreenVideo();
                    });
                }

                // Fallback –∫–Ω–æ–ø–∫–∞
                this.fallbackBtn.addEventListener('click', () => {
                    console.log('Fallback –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ');
                    this.showFullscreenVideo();
                });

                // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ
                this.closeBtn.addEventListener('click', () => {
                    this.hideFullscreenVideo();
                });

                this.videoOverlay.addEventListener('click', (e) => {
                    if (e.target === this.videoOverlay) {
                        this.hideFullscreenVideo();
                    }
                });

                // –°–æ–±—ã—Ç–∏—è –≤–∏–¥–µ–æ
                this.overlayVideo.addEventListener('ended', () => {
                    setTimeout(() => this.hideFullscreenVideo(), 1000);
                });

                this.overlayVideo.addEventListener('error', (e) => {
                    console.error('–û—à–∏–±–∫–∞ –≤–∏–¥–µ–æ:', e);
                    alert('‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ!\n\n–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª BoudoirPhotoBox.mp4');
                });

                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∂–µ—Å—Ç–æ–≤
                this.preventZoom();

                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä–∫–µ—Ä–∞
                this.startMarkerCheck();

                // –ö–ª–∏–∫ –ø–æ –ø—Ä–µ–≤—å—é –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–∫–∏
                this.originalPreview.addEventListener('click', () => {
                    alert('üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:\n\n–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–∞ —ç—Ç—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é.\n\n–£–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∫–∞–º–µ—Ä—É —Å—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 20-30 —Å–º.');
                });
            }

            onMarkerFound() {
                this.markerFound = true;
                this.markerStatus.textContent = 'üéØ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –Ω–∞–π–¥–µ–Ω–∞! –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ';
                this.markerStatus.classList.add('found');
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º AR –≤–∏–¥–µ–æ
                setTimeout(() => {
                    this.playARVideo();
                }, 500);
            }

            onMarkerLost() {
                this.markerFound = false;
                this.markerStatus.textContent = 'üîç –ò—â—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –¥–µ–≤–æ—á–∫–∏...';
                this.markerStatus.classList.remove('found');
                
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º AR –≤–∏–¥–µ–æ
                this.pauseARVideo();
            }

            playARVideo() {
                try {
                    if (this.videoAsset && this.videoAsset.paused) {
                        this.videoAsset.play().catch(error => {
                            console.log('AR –≤–∏–¥–µ–æ —Ç—Ä–µ–±—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
                        });
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ AR –≤–∏–¥–µ–æ:', error);
                }
            }

            pauseARVideo() {
                try {
                    if (this.videoAsset && !this.videoAsset.paused) {
                        this.videoAsset.pause();
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ AR –≤–∏–¥–µ–æ:', error);
                }
            }

            async showFullscreenVideo() {
                if (this.isFullscreenVideo) return;
                
                console.log('üé¨ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ');
                this.isFullscreenVideo = true;
                
                try {
                    if (!this.overlayVideo.paused) {
                        this.overlayVideo.pause();
                    }
                    
                    this.overlayVideo.currentTime = 0;
                    this.videoOverlay.classList.add('show');
                    
                    await new Promise(resolve => setTimeout(resolve, 100));
                    
                    // –ü—Ä–æ–±—É–µ–º —Å–æ –∑–≤—É–∫–æ–º
                    this.overlayVideo.muted = false;
                    await this.overlayVideo.play();
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:', error);
                    
                    try {
                        // Fallback –±–µ–∑ –∑–≤—É–∫–∞
                        this.overlayVideo.muted = true;
                        await this.overlayVideo.play();
                    } catch (mutedError) {
                        console.error('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤–∏–¥–µ–æ:', mutedError);
                        this.isFullscreenVideo = false;
                        this.hideFullscreenVideo();
                        alert('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –≤–∏–¥–µ–æ');
                    }
                }
            }

            hideFullscreenVideo() {
                this.isFullscreenVideo = false;
                
                try {
                    if (!this.overlayVideo.paused) {
                        this.overlayVideo.pause();
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:', error);
                }
                
                this.videoOverlay.classList.remove('show');
            }

            startMarkerCheck() {
                // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—Ä–∫–µ—Ä–∞
                setInterval(() => {
                    if (!this.markerFound) {
                        const tips = [
                            'üîç –ò—â—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –¥–µ–≤–æ—á–∫–∏...',
                            'üí° –°–æ–≤–µ—Ç: –¥–µ—Ä–∂–∏—Ç–µ –∫–∞–º–µ—Ä—É —Å—Ç–∞–±–∏–ª—å–Ω–æ',
                            'üìè –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 20-30 —Å–º –æ—Ç —Ñ–æ—Ç–æ',
                            'üí° –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–æ—Ç–æ —Ö–æ—Ä–æ—à–æ –æ—Å–≤–µ—â–µ–Ω–æ',
                            'üì± –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä —Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É',
                            'üîç –ò—â—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –¥–µ–≤–æ—á–∫–∏...'
                        ];
                        
                        const randomTip = tips[Math.floor(Math.random() * tips.length)];
                        this.markerStatus.textContent = randomTip;
                    }
                }, 3000);
            }

            preventZoom() {
                document.addEventListener('touchstart', (e) => {
                    if (e.touches.length > 1) {
                        e.preventDefault();
                    }
                }, { passive: false });

                let lastTouchEnd = 0;
                document.addEventListener('touchend', (e) => {
                    const now = Date.now();
                    if (now - lastTouchEnd <= 300) {
                        e.preventDefault();
                    }
                    lastTouchEnd = now;
                }, false);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ –ó–∞–ø—É—Å–∫ AR Image Tracker');
            new ARImageTracker();
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–º–µ–Ω—ã –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
        window.addEventListener('orientationchange', () => {
            setTimeout(() => {
                location.reload();
            }, 1000);
        });
    </script>
</body>
</html>
